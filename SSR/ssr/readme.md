# CSR 과 SSR의 차이

<aside>
💡 표시해줄 화면을 어디서, 어떻게 그리냐의 차이

</aside>

- CSR은 페이지의 내용을 브라우저에서 그리고
- SSR은 서버에서 페이지의 내용을 다 그려서 브라우저로 던져준다.

## 1. 클라이언트 사이드 렌더링 (CSR)

- CSR은 SPA 트렌드와 **CPU 성능 상승** + JS 표준화 (리액트, 뷰, 앵귤로 등의 프레임워크 발전)와 함께 본격적으로 시작되었다.
- CSR은 쉽게 말해서 클라이언트에서 모두 처리한다.
- 서버에서 전체 페이지를 한번 렌더링 하여서 보여주고, 사용자가 요청할때마다 리소스를 서버에서 제공받아서 클라이언트가 해석하고 렌더링 하는 방식.

<aside>
💡 서버에 HTML 문서를 요청하는게 아니라, **브라우저에서 자바스크립트로 콘텐츠를 렌더링 하는것**

</aside>

- SPA를 구현해보았듯이, 자바스크립트의 innerHTML이나 innerText 처럼 돔을 이용해 HTML을 그려준다.
- SPA는 **최초 한 번 페이지 전체를 로딩한 뒤, 데이터만 변경하여 사용 할 수 있는 애플리케이션.**

###

## 2. 클라이언트 사이드 렌더링 과정

- HTML이 텅텅 비어있기 때문에 처음에 접속하면 빈 화면만 보이게 되고, 링크된 자바스크립트를 다운로드 받게 된다.
- 자바스크립트 파일에는 필요한 로직, 구동하기 위한 `프레임워크`, `라이브러리의 소스코드`들도 모두 포함되어 있다.

<aside>
💡 그렇기 때문에 처음 다운로드 받을 때 꽤나 시간이 소요될 수 있다.

</aside>

- 추가적으로 데이터가 필요하면 **서버로부터 데이터를 받아와서 클라이언트 쪽에서 자바스크립트와 함께 동적으로 화면을 구성하여 사용자에게 최종적 화면을 보여주게 된다.**

단점 : 사용자가 첫 화면을 보기까지의 시간이 오래 걸릴 수 있다는 점과 썩 좋지 않은 SEO를 꼽을 수 있다.

## 1. 서버 사이드 렌더링(SSR)

- 웹 사이트에 접속하면 서버에 필요한 데이터를 모두 가져와서 HTML 파일을 만들게 되고, 만들어진 HTML과 HTML 파일을 동적으로 조금 제어할 수 있는 소스코드와 함께 클라이언트에게 보낸다.
- 클라이언트는 잘 만들어진 HTML 문서를 사용자에게 바로 보여주게 된다.
- 이로써의 장점 : 서버에서 HTML을 만들기 때문에 빠르고, CSR과 달리 모든 컨텐츠가 HTML에 담겨있기 때문에 효율적인 SEO가 가능하다.
  - 서버에서 미리 그려서 브라우저로 보내주기 때문에 페이지를 그리는 시간을 단축할 수 있습니다.
  - 사용자 입장에서는 화면에 유의미한 정보가 표시되는 시간이 빨라지는 것이죠

<aside>
💡 CSR의 단점 해결 1) 느린 페이지 로딩, 2) 좋지 않은 SEO 성능 해결

</aside>

- 그럼에도 SSR의 단점
  1. Blinking Issue : 사용자가 새로고침을 하게 되면 전체 웹사이트를 다시 서버에서 받아와야 하기 때문에 화면이 없어졌다가 나타난다. (UX 관점에서는 썩 좋지 않음…)
  2. 서버 과부하 : 사용자가 많은 제품일수록 서버에 데이터를 요청하는 횟수가 많아진다.
  3. TTV 와 TTI : (Time To View) (Time To Interact)
  ![스크린샷 2023-03-07 오후 1.17.17.png](CSR%20%E1%84%80%E1%85%AA%20SSR%E1%84%8B%E1%85%B4%20%E1%84%8E%E1%85%A1%E1%84%8B%E1%85%B5%20f1cfd40f757041018eedf531511bcf5c/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-07_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.17.17.png)
  1. SSR 방식에서는 서버에서 만들어진 HTML 파일을 가져오게 되고, 사용자는 바로 웹 사이트를 볼 수 있다.
  2. 하지만 웹사이트를 동적으로 제어할 수 있는 자바스크립트 파일은 아직 받아 오지 않았기 때문에 사용자가 아무리 버튼 클릭을 해도 아무런 처리를 할 수 없는 상태의 시간이 있다.
  3. 최종적으로 자바스크립트 파일을 받아와야지만 사용자가 원하는 것을 처리할 수 있는 인터랙션이 가능하다.

<aside>
💡 SSR은 사용자가 사이트를 볼 수 있는 시간(TTV)와 실제로 인터랙션이 가능한 시간(TTI)의 **공백시간이 꽤 길다는 단점이 존재한다.**

</aside>

<aside>
💡 반면에 CSR은 HTML만 받아왔을때는 아무것도 보여지지 않지만, 링크되어 있는 모든 로직을 처리하는 자바스크립트 파일을 받아오게 되면, **웹 사이트가 보여지는** **동시에** 인터렉션이 가능해진다. 
=== TTV와 TTI의 공백시간이 없는 것이다.

</aside>

## 3. 어떻게하면 괜찮은 CSR, SSR 개발자가 될까

- CSR을 잘 사용하기 위해서는 최종적으로 번들링해서 사용자에게 보내주는 자바스크립트 파일을 어떻게 하면 효율적으로 많이 분할해서 **첫 번째로 사용자가 사이트를 보기 위해서 필요한 필수적인 요소들만 보낼 수 있을지 고민한다.**
- SSR같은 경우 TTV와 TTI의 공백시간을 줄이기 위해서 어떤 노력을 할 수 있을지와 조금 더 매끄러운 UI UX를 제공할 수 있을지 고민해 보면 좋을 것 같다.
